import{r,j as e}from"./app-DA6yD-bg.js";import{u as $,P as H,a as O,D as U,S as V,v as _,b as z,c as W,d as J}from"./index-DK_DB61g.js";import{I as N}from"./input-BMchtnkz.js";import{T as Z}from"./textarea-bNjw3qJ2.js";import{B as k}from"./button-Czat_LeM.js";import{T as ee,C as ae,R as se}from"./Radio_cp-npa-mGGS.js";import{F as L}from"./index.es-C4Hz4JyV.js";import{j as K,n as le}from"./index-DTzn02tC.js";import{S as Q}from"./separator-D5br-jdY.js";import{R as te,a as ne}from"./radio-group-ao2XUvb9.js";function je({isModalOpen:R,setIsModalOpen:u,currentItem:a,setCurrentItem:d,handleUpdateItem:X,items:p,setItems:h}){const[j,g]=r.useState(!1),[v,m]=r.useState(""),[G,T]=r.useState(""),I=async n=>{n.preventDefault();const i=await axios.post("/api/v1/text",{askAPI:v});console.log(i.data),d({...a,tooltip:i.data.tooltip,placeholder:i.data.placeholder,description:i.data.description,label:i.data.label}),d.description=i.data.description,d.placeholder=i.data.placeholder,d.label=i.data.label,d.tooltip=i.data.tooltip,T(i.data)},B=n=>{const{active:i,over:s}=n;i&&s&&i.id!==s.id&&h(l=>{const x=l.findIndex(y=>y&&y.id===i.id),f=l.findIndex(y=>y&&y.id===s.id),A=J(l,x,f);return console.log(A),A})},w=(n,i)=>{h(s=>s.map(l=>l&&l.id===n?{...l,value:i}:l))},C=n=>{const i=p.find(s=>s.id===n);d(i),u(!0)},F=n=>{n.preventDefault(),h(i=>{const s=i.findIndex(l=>l.id===a.id);if(s!==-1){const l=[...i];return l[s]=a,l}else return[...i,a]}),u(!1)},E=n=>{h(i=>i.filter(s=>s.id!==n))};r.useEffect(()=>{console.log(p)},[p]);const P=$(H,{activationConstraint:{delay:250,tolerance:5}}),D=O(P);return e.jsxs(e.Fragment,{children:[e.jsx(U,{sensors:D,onDragEnd:B,children:e.jsx(V,{items:p.filter(Boolean).map(n=>n.id),strategy:_,children:p.map(n=>n&&e.jsx(z,{id:n.id,item:n,onInputChange:w,onEditItem:C,handleDeleteItem:E,className:"m-4"},n.id))})}),a&&e.jsxs(W,{isOpen:R,onRequestClose:()=>u(!1),ariaHideApp:!1,appElement:document.getElementById("root"),children:[e.jsx("h2",{className:"text-center text-xl text-black",children:"Configure Input"}),e.jsxs("div",{className:"",children:[e.jsxs(k,{onClick:()=>g(n=>!n),className:"mb-2",variant:"generate",children:[e.jsx(L,{className:"text-white",icon:K}),e.jsx("span",{className:"ms-2 text-white",children:"Generate"})]}),j&&e.jsxs("div",{className:"flex",children:[e.jsx(N,{type:"text",name:"askAPI",id:"askAPI",value:v,placeholder:"Enter a description of the question you need, and our AI will help you!",onChange:n=>{m(n.target.value)}}),e.jsx(k,{variant:"outline",onClick:I,children:"ask"})]})]}),e.jsx(Q,{className:"my-8"}),a&&e.jsxs("form",{onSubmit:F,children:[e.jsxs("label",{className:"text-black",children:["Label:",e.jsx(N,{className:"block text-black",type:"text",value:a.label,onChange:n=>d({...a,label:n.target.value})})]}),e.jsxs("label",{className:"text-black",children:["Placeholder:",e.jsx(N,{className:"block text-black",type:"text",value:a.placeholder,onChange:n=>d({...a,placeholder:n.target.value})})]}),e.jsxs("label",{className:"text-black",children:["Tooltip:",e.jsx(N,{className:"block text-black",type:"text",value:a.tooltip,onChange:n=>d({...a,tooltip:n.target.value})})]}),e.jsxs("label",{className:"text-black",children:["Description:",e.jsx(Z,{className:"block text-black",value:a.description,onChange:n=>d({...a,description:n.target.value})})]}),a&&a.label&&e.jsx(k,{onClick:F,variant:"default",type:"submit",children:"Save"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"mb-6 text-center text-2xl text-black",children:"Preview"}),a&&a.label&&e.jsx(ee,{handleDeleteItem:E,onEditItem:C,item:a,id:a.id,onInputChange:w,setNodeRef:()=>{},attributes:{},listeners:{},handle:()=>{}})]})]})]})}const ue=({isModalOpen:R,setIsModalOpen:u,currentItem:a,setCurrentItem:d,handleUpdateItem:X,items:p,setItems:h})=>{const[j,g]=r.useState(""),[v,m]=r.useState(!1),[G,T]=r.useState(""),[I,B]=r.useState(""),w=async s=>{s.preventDefault();const l=await axios.post("/api/v1/checkbox",{askAPI:G});console.log(l.data),d({...a,tooltip:l.data.tooltip,description:l.data.description,label:l.data.label}),d.description=l.data.description,d.label=l.data.label,d.tooltip=l.data.tooltip,B(l.data)},C=s=>{if(s.preventDefault(),a.label){const l=p.findIndex(x=>x.id===a.id);h(l!==-1?x=>x.map((f,A)=>A===l?a:f):x=>[...x,a]),u(!1)}else g("Please enter a label for the checkbox.")},F=s=>{const l=p.find(x=>x.id===s);d(l),u(!0)},E=s=>{const{active:l,over:x}=s;l&&x&&l.id!==x.id&&h(f=>{const A=f.findIndex(o=>o&&o.id===l.id),y=f.findIndex(o=>o&&o.id===x.id),t=J(f,A,y);return console.log(t),t})},P=s=>{h(l=>l.filter(x=>x.id!==s))},D=(s,l)=>{h(x=>x.map(f=>f&&f.id===s?{...f,value:l}:f))},n=$(H,{activationConstraint:{delay:250,tolerance:5}}),i=O(n);return r.useEffect(()=>{console.log(p)},[p]),r.useEffect(()=>{console.log(a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(U,{sensors:i,onDragEnd:E,children:e.jsx(V,{items:p.filter(Boolean).map(s=>s.id),strategy:_,children:p.map((s,l)=>s&&e.jsx(z,{id:s.id,item:s,onInputChange:D,onEditItem:F,handleDeleteItem:P},s.id))})}),e.jsxs(W,{isOpen:R,ariaHideApp:!1,onRequestClose:()=>u(!1),appElement:document.getElementById("root"),children:[e.jsx("h2",{className:"text-center text-xl text-black",children:"Configure Input"}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"gap-2",children:e.jsxs(k,{onClick:()=>m(s=>!s),className:"z-10 transition-all duration-300 ease-in-out flex items-center",variant:"generate",style:{width:v?"40px":"auto"},children:[e.jsx(L,{className:"text-white",icon:K}),e.jsx("span",{className:`text-white overflow-hidden transition-all duration-300 ease-in-out ${v?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Generate"})]})}),e.jsxs("div",{className:`absolute left-0 flex items-center transition-all duration-300 ease-in-out ${v?"translate-x-[44px] opacity-100":"translate-x-0 opacity-0 pointer-events-none"}`,children:[e.jsx(N,{type:"text",name:"askAPI",id:"askAPI",value:G,placeholder:"Enter a description of the question you need, and our AI will help you!",onChange:s=>T(s.target.value),className:"w-full mr-2"}),e.jsx(k,{variant:"outline",onClick:()=>w(a),children:"Ask"})]})]}),e.jsx(Q,{className:"my-8"}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("label",{className:"text-black",children:["Label:",e.jsx(N,{type:"text",value:a.label,onChange:s=>d({...a,label:s.target.value})})]}),e.jsxs("label",{className:"text-black",children:["Tooltip:",e.jsx(N,{className:"block text-black",type:"text",value:a.tooltip,onChange:s=>d({...a,tooltip:s.target.value})})]}),e.jsxs("label",{className:"text-black",children:["Description:",e.jsx(Z,{className:"block text-black",value:a.description,onChange:s=>d({...a,description:s.target.value})})]}),j&&e.jsx("p",{className:"text-red-500",children:j}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{type:"button",onClick:C,className:"mt-4",children:"Submit"})})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-black text-center text-xl",children:"Preview"}),a&&a.label&&e.jsx(ae,{showButtons:!1,handleDeleteItem:P,item:a,id:a.id,onInputChange:D,setNodeRef:()=>{},attributes:{},listeners:{},handle:()=>{}})]})]})]})};function ge({isModalOpen:R,setIsModalOpen:u,currentItem:a,setCurrentItem:d,handleUpdateItem:X,items:p,setItems:h}){const[j,g]=r.useState((a==null?void 0:a.options)||[{id:"option-1",label:""},{id:"option-2",label:""},{id:"option-3",label:""},{id:"option-4",label:""}]),[v,m]=r.useState(""),[G,T]=r.useState(null),[I,B]=r.useState(!1),[w,C]=r.useState(""),[F,E]=r.useState(""),P=async t=>{t.preventDefault();try{const o=await axios.post("/api/v1/radio",{askAPI:w});console.log(o.data);const c=Array.isArray(o.data.options)?o.data.options.map((b,S)=>({id:`option-${S+1}`,label:b})):[];d({...a,label:o.data.label||"",options:c}),g(c),m(o.data.label||""),E(o.data)}catch(o){console.error("Error fetching data from API:",o)}},D=()=>{event.preventDefault();const t={id:`option-${j.length+1}`,label:""};g(o=>[...o,t])},n=t=>{g(o=>o.filter(c=>c.id!==t))},i=t=>{const{active:o,over:c}=t;o&&c&&o.id!==c.id&&h(b=>{const S=b.findIndex(q=>q&&q.id===o.id),M=b.findIndex(q=>q&&q.id===c.id),Y=J(b,S,M);return console.log(Y),Y})},s=t=>{h(o=>o.filter(c=>c.id!==t))},l=(t,o)=>{h(c=>c.map(b=>b&&b.id===t?{...b,value:o}:b))},x=t=>{const o=p.find(c=>c.id===t);d(o),u(!0)},f=t=>{t.preventDefault(),h(o=>{const c=o.findIndex(S=>S.id===a.id),b={...a,label:v,options:Array.isArray(j)?j:[]};if(c!==-1){const S=[...o];return S[c]=b,S}else return[...o,b]}),m(""),g([{id:"option-1",label:""},{id:"option-2",label:""},{id:"option-3",label:""},{id:"option-4",label:""}]),u(!1)};r.useEffect(()=>{a&&Array.isArray(a.options)?(m(a.label||""),g(a.options)):g([{id:"option-1",label:""},{id:"option-2",label:""},{id:"option-3",label:""},{id:"option-4",label:""}]),console.log(a),console.log(p)},[a,p]);const A=$(H,{activationConstraint:{delay:250,tolerance:5}}),y=O(A);return r.useEffect(()=>{console.log("Items:",a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(U,{sensors:y,onDragEnd:i,children:e.jsx(V,{items:p.filter(Boolean).map(t=>t.id),strategy:_,children:p.map(t=>t&&e.jsx(z,{id:t.id,item:t,onInputChange:l,onEditItem:x,handleDeleteItem:s,className:"m-4"},t.id))})}),a&&e.jsxs(W,{isOpen:R,ariaHideApp:!1,onRequestClose:()=>u(!1),appElement:document.getElementById("root"),children:[e.jsx("h2",{className:"text-center text-xl text-black",children:"Configure Input"}),e.jsxs("div",{children:[e.jsxs(k,{onClick:()=>B(t=>!t),className:"mb-2",variant:"generate",children:[e.jsx(L,{className:"text-white",icon:K}),e.jsx("span",{className:"ms-2 text-white",children:"Generate"})]}),I&&e.jsxs("div",{className:"flex",children:[e.jsx(N,{type:"text",name:"askAPI",id:"askAPI",placeholder:"Enter a description of the question you need, and our AI will help you!",value:w,onChange:t=>{C(t.target.value)}}),e.jsx(k,{variant:"outline",onClick:P,children:"ask"})]})]}),e.jsx(Q,{className:"my-8"}),a&&e.jsxs("form",{onSubmit:f,children:[e.jsxs(te,{defaultValue:"option-one",className:"text-black",children:[e.jsx(N,{type:"text",id:"label",placeholder:"Insert question here",className:"text-black",onChange:t=>m(t.target.value),value:v}),Array.isArray(j)&&j.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{value:t.id,id:t.id}),e.jsx(N,{type:"text",value:t.label,onChange:o=>g(j.map(c=>c.id===t.id?{...c,label:o.target.value}:c)),placeholder:"Enter option label"}),e.jsx(k,{onClick:()=>n(t.id),children:e.jsx(L,{icon:le})})]},t.id))]}),e.jsx(k,{onClick:D,children:"Add Option"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"mb-6 text-center text-2xl text-black",children:"Preview"}),a&&v&&e.jsx(se,{item:{label:v,options:j},onInputChange:()=>{},onEditItem:()=>{},handleDeleteItem:()=>{},id:a.id,setNodeRef:()=>{},attributes:{},listeners:{},handle:()=>{},showButtons:!1,setSelectedValue:T})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{onClick:f,variant:"default",type:"submit",children:"Save"})})]})]})}export{je as A,ue as a,ge as b};
