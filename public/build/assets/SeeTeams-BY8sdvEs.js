import{r as s,j as e,Y as E}from"./app-DA6yD-bg.js";import{B as I}from"./button-Czat_LeM.js";import{A as j,a as u,b as g}from"./avatar-CKv6ngF4.js";import{H as y,a as M,b as P}from"./hover-card-t-uHdfgl.js";import{F as k}from"./index.es-C4Hz4JyV.js";import{b as F}from"./index-DTzn02tC.js";import{M as w}from"./Modal-Q1vF_rf7.js";import H from"./AddParticipantAndTeam-CAhd3jX9.js";import L from"./AddParticipantToTeam-Cnp3qrFI.js";import{Layout as q}from"./Layout-CD6lmAmp.js";import{I as B}from"./index-DlhB-auK.js";import"./dropdown-menu-Ctpzr8Gl.js";import"./alert-dialog-DPhN9ELP.js";import{d as v}from"./index-CNbTJdn3.js";import"./utils-Baa09YAL.js";import"./index-BSvPNBtZ.js";import"./index-DjDCE-CF.js";import"./index-wyKmaqcT.js";import"./index-DgaNj54m.js";import"./createLucideIcon-TB6UWrdR.js";import"./index-DKKbawXw.js";import"./index-DUFVU-Ky.js";import"./index-0yB0lKw6.js";import"./transition-CHIl-Fii.js";import"./use-toast-DSZ2X8Ft.js";import"./input-BMchtnkz.js";import"./label-DJGv7VYA.js";import"./checkbox-DteTE1QY.js";import"./index-gIoNW1Kd.js";import"./index-DzzVjFRl.js";import"./GetEmailExcel2_CP-D-MG6nd3.js";import"./xlsx-DG2X6oDA.js";import"./select-8KFRuk-M.js";import"./index-D2R9fagv.js";import"./Combination-JEORXwyg.js";import"./index-JpmpzNkP.js";import"./logo-teamster-DKsO-BHU.js";import"./chevron-right-DntUEiCU.js";import"./circle-DvhWujGC.js";const Te=r=>{const[o,c]=s.useState([]),[x,$]=s.useState(!1),[p,N]=s.useState(null),[f,h]=s.useState(""),[b,l]=s.useState(!1),[m,n]=s.useState(!1),[A,T]=s.useState([]);s.useState(null);const d=async()=>{c(r.teams),T(r.departments)},C=t=>{console.log("team",t);const a=o.findIndex(i=>i.id===t.id);if(console.log("index",a),a!==-1){const i=[...o];i[a]=t,c([...i])}};console.log("teams:",o),console.log("props:",r),console.log("auth:",r.auth.user.id);const S=r.auth;return s.useEffect(()=>{d()},[]),s.useEffect(()=>{console.log("Teams state:",o)},[o]),s.useEffect(()=>{console.log("Modal state:",m)},[m]),s.useEffect(()=>{console.log("Input field state:",f)},[f]),s.useEffect(()=>{x||h("")},[x]),e.jsx("div",{children:e.jsxs(q,{children:[e.jsx(E,{title:"See Teams/ Members"}),e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 pt-12",children:e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h1",{className:"text-3xl font-bold text-black",children:"Equipas"}),e.jsxs("div",{className:"my-6 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-2xl font-serif uppercase items-end flex",children:"Gerir Equipas"}),e.jsxs(I,{onClick:()=>l(!0),className:"align-middle",children:["Adicionar Equipa",e.jsx(k,{className:"ms-2",icon:F})]})]}),o.map(t=>e.jsxs("div",{className:"my-4 bg-white p-4 min-h-fit rounded-xl gap-6 flex flex-col shadow-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("h3",{className:"text-2xl font-semibold ",children:t.name}),e.jsx("div",{className:"items-center flex",children:e.jsx(B,{href:`/teams/${t.id}`,className:"text-sm items-center flex",children:"Ver mais"})})]}),e.jsx("h5",{className:"text-sm content-end ",children:t.department.name})]}),e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[t.participants.map((a,i)=>e.jsx("div",{children:e.jsxs(y,{children:[e.jsx(M,{children:a.pivot.status_id===3?e.jsxs(j,{children:[e.jsx(u,{className:"filter grayscale",src:`https://api.dicebear.com/8.x/big-smile/svg?seed=${a.email}`}),e.jsx(g,{children:"CN"})]}):e.jsxs(j,{children:[e.jsx(u,{src:`https://api.dicebear.com/8.x/big-smile/svg?seed=${a.email}`}),e.jsx(g,{children:"CN"})]})}),e.jsx(P,{children:e.jsx("p",{children:a.email})})]})},i)),e.jsx("button",{onClick:()=>{n(!0),N(t.id)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"h-11 w-11 text-gray-400",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})]})]},t.id))]})]})})}),e.jsx(w,{show:m,onClose:()=>n(!1),minWidth:"xl",children:e.jsx(L,{fetchTeamsAndParticipants:d,setParticipantEmail:h,teamId:p,onClose:()=>{n(!1),v.Inertia.reload()},updateTeam:C})}),e.jsx(w,{closeable:!1,show:b,onClose:t=>{l(!1),console.log("Modal close triggered"),console.log(t)},children:e.jsx(H,{auth:S,onClose:()=>{l(!1),console.log("completed"),v.Inertia.reload()},fetchTeamsAndParticipants:d,teamId:p,departmentsProps:A})})]})})};export{Te as default};
