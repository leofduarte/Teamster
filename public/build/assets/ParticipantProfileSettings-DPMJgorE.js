import{j as e,r as n,a as b}from"./app-DA6yD-bg.js";import{l as w}from"./logo-teamster-DKsO-BHU.js";import{S as g}from"./separator-D5br-jdY.js";import{S as v}from"./scroll-area-C3jYxbZO.js";import{B as N}from"./button-Czat_LeM.js";function T(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-end w-full",children:e.jsx("img",{src:w,alt:"Teamster Logo",className:"w-52 rounded-full drop-shadow justify-end"})})})}function E({closestEvent:s,closestPlanActivity:l}){const t=r=>{if(!r)return"Data não disponível";const a=new Date(r);return isNaN(a.getTime())?(console.log("Invalid date string:",r),"Data inválida"):a.toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})};return e.jsxs("div",{className:"bg-white drop-shadow-md rounded-lg text-center p-5 joyride-events",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 font-serif",children:"PRÓXIMA ATIVIDADE"}),e.jsx(g,{}),e.jsx("div",{children:s&&l?e.jsx("div",{className:"text-start",children:e.jsxs("div",{className:"flex justify-between mb-2 mt-2",children:[e.jsx("p",{children:s.name}),e.jsx("p",{children:t(l.date)})]})}):e.jsx("p",{children:"Não há atividades programadas."})}),e.jsx(g,{})]})}function D({closestEvent:s,closestPlanActivity:l}){const t=()=>{if(!s||!s.participant_tasks)return e.jsx("p",{children:"Não há tarefas para exibir no momento."});const a=s.participant_tasks.split(".").filter(c=>c.trim()!=="");return e.jsx("ul",{children:a.map((c,o)=>e.jsxs("li",{className:"mb-2",children:[c.trim(),"."]},o))})};return e.jsxs("div",{className:"p-4 bg-white rounded-lg drop-shadow-md",children:[e.jsx("div",{className:"text-center mt-3",children:e.jsx("h2",{className:"font-serif font-semibold text-2xl",children:"Tarefas para a próxima atividade!"})}),s&&l?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(v,{className:"h-72 w-72 overflow-y-auto",children:e.jsx("div",{className:"p-4",children:t()})})}):e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{children:"Não há tarefas para exibir no momento."})})]})}function I({teams:s,id:l,onTeamSelect:t}){var h;const[r,a]=n.useState(0),[c,o]=n.useState(!1),[x,j]=n.useState([]);if(n.useEffect(()=>{(async()=>{try{const m=await b.post("api/v1/getParticipantsFromTeams",{teamId:l});j(m.data),console.log("Participants:",x)}catch(m){console.error("Failed to fetch participants:",m)}})()},[l]),n.useEffect(()=>{s&&s.length>0&&t(s[r])},[r,s,t]),!s||s.length===0)return e.jsx("div",{className:"bg-white drop-shadow-md rounded-lg text-center p-5 ",children:e.jsx("h2",{className:"text-2xl font-bold mb-3 font-serif",children:"Neste momento não há equipas disponíveis"})});const d=s[r],f=()=>{o(!0)},p=i=>{a(i),o(!1),t&&t(s[i])};if(c)return e.jsxs("div",{className:"bg-white drop-shadow-md rounded-lg text-center p-5 ",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3 font-serif",children:"SELECIONE UMA EQUIPA"}),s.map((i,m)=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>p(m),children:i.name},i.id))]});const u=((h=x.find(i=>i.id===d.id))==null?void 0:h.participants)||[];return e.jsxs("div",{className:"bg-white drop-shadow-md rounded-lg text-center p-5 joyride-team",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3 font-serif",children:"A SUA EQUIPA"}),e.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"w-full max-w-md mb-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:" mt-2 text-xl text-left",children:d.name})}),e.jsx(v,{className:"h-72 w-full overflow-y-auto p-1",children:u.map(i=>e.jsxs("div",{className:"flex items-center px-2",children:[e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("img",{className:"rounded-full h-10",src:`https://api.dicebear.com/8.x/big-smile/svg?seed=${i.email}`,alt:i.name})}),e.jsx("p",{className:"text-left text-sm",children:i.email})]},i.id))})]},d.id),e.jsx("button",{onClick:f,className:" text-gray-500 hover:text-black self-start",children:"Mais equipas"})]})]})}function y({logo:s,message:l,buttons:t=!0,onConfirm:r,onCancel:a}){const c=o=>{t||a()};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center text-center z-50 bg-black bg-opacity-50",onClick:c,children:e.jsxs("div",{className:"bg-white px-16 py-4 rounded-lg shadow-lg",children:[s&&e.jsxs("div",{className:"flex items-center justify-center my-4",children:[s==="happy"&&e.jsx("img",{src:"../../../storage/app/public/logos/confirmar.svg",alt:"Happy Logo",className:"h-16 w-16 mr-2"}),s==="sad"&&e.jsx("img",{src:"../../../storage/app/public/logos/rejeitar.svg",alt:"Sad Logo",className:"h-20 w-20 mr-2"})]}),e.jsx("p",{className:"mb-8",children:l}),t&&e.jsxs("div",{className:"my-4 flex justify-center gap-6",children:[e.jsx(N,{className:"px-6",onClick:a,children:"Não"}),e.jsx(N,{variant:"outline",className:"px-6",onClick:r,children:"Sim"})]})]})})}function A({isEditingProfile:s,setIsEditingProfile:l,participant:t}){const[r,a]=n.useState(!1),[c,o]=n.useState(""),[x,j]=n.useState(!1),[d,f]=n.useState(t);n.useEffect(()=>{t&&f(t)},[t]);const p=()=>{a(!0)},u=()=>{a(!1)},h=()=>{a(!1),o("")};return e.jsxs(e.Fragment,{children:[d&&e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-5 flex items-center joyride-profile",children:[e.jsx("img",{src:`https://api.dicebear.com/8.x/big-smile/svg?seed=${d.participant.email}`,alt:"User",className:"rounded-full object-cover w-12 h-12 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:d.participant.name}),e.jsxs("div",{className:"mt-1 text-sm gap-4 flex",children:[!x&&e.jsx("a",{onClick:()=>{l(!0)},className:"underline hover:text-slate-600 cursor-pointer",children:"Editar perfil"}),e.jsx("a",{href:"#",onClick:p,className:"underline text-[#F54468] hover:text-red-400",children:"Logout"})]})]})]}),r&&e.jsx(y,{logo:"happy",message:"Deseja terminar sessão?",buttons:!0,onConfirm:h,onCancel:u})]})}export{y as C,E,T as L,D as N,A as P,I as T};
