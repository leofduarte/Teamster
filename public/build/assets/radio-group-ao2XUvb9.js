import{r as o,j as w}from"./app-DA6yD-bg.js";import{_ as R,b as S,$ as h}from"./index-BSvPNBtZ.js";import{b as N,$ as x,a as oe}from"./index-wyKmaqcT.js";import{a as A,b as te}from"./index-DjDCE-CF.js";import{$ as re}from"./index-D2R9fagv.js";import{$ as ne}from"./index-gIoNW1Kd.js";import{$ as D,a as ce,b as ae}from"./index-DKKbawXw.js";import{c as O}from"./utils-Baa09YAL.js";import{C as se}from"./circle-DvhWujGC.js";const k="rovingFocusGroup.onEntryFocus",de={bubbles:!1,cancelable:!0},T="RovingFocusGroup",[y,M,fe]=re(T),[ue,L]=A(T,[fe]),[ie,be]=ue(T),le=o.forwardRef((e,r)=>o.createElement(y.Provider,{scope:e.__scopeRovingFocusGroup},o.createElement(y.Slot,{scope:e.__scopeRovingFocusGroup},o.createElement($e,R({},e,{ref:r}))))),$e=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:c=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:u,onEntryFocus:d,...v}=e,l=o.useRef(null),$=S(r,l),f=D(s),[a=null,b]=N({prop:i,defaultProp:p,onChange:u}),[_,E]=o.useState(!1),g=te(d),W=M(t),C=o.useRef(!1),[X,P]=o.useState(0);return o.useEffect(()=>{const m=l.current;if(m)return m.addEventListener(k,g),()=>m.removeEventListener(k,g)},[g]),o.createElement(ie,{scope:t,orientation:n,dir:f,loop:c,currentTabStopId:a,onItemFocus:o.useCallback(m=>b(m),[b]),onItemShiftTab:o.useCallback(()=>E(!0),[]),onFocusableItemAdd:o.useCallback(()=>P(m=>m+1),[]),onFocusableItemRemove:o.useCallback(()=>P(m=>m-1),[])},o.createElement(h.div,R({tabIndex:_||X===0?-1:0,"data-orientation":n},v,{ref:$,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{C.current=!0}),onFocus:x(e.onFocus,m=>{const J=!C.current;if(m.target===m.currentTarget&&J&&!_){const G=new CustomEvent(k,de);if(m.currentTarget.dispatchEvent(G),!G.defaultPrevented){const F=W().filter(I=>I.focusable),Q=F.find(I=>I.active),Z=F.find(I=>I.id===a),ee=[Q,Z,...F].filter(Boolean).map(I=>I.ref.current);K(ee)}}C.current=!1}),onBlur:x(e.onBlur,()=>E(!1))})))}),pe="RovingFocusGroupItem",me=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:c=!1,tabStopId:s,...i}=e,p=ne(),u=s||p,d=be(pe,t),v=d.currentTabStopId===u,l=M(t),{onFocusableItemAdd:$,onFocusableItemRemove:f}=d;return o.useEffect(()=>{if(n)return $(),()=>f()},[n,$,f]),o.createElement(y.ItemSlot,{scope:t,id:u,focusable:n,active:c},o.createElement(h.span,R({tabIndex:v?0:-1,"data-orientation":d.orientation},i,{ref:r,onMouseDown:x(e.onMouseDown,a=>{n?d.onItemFocus(u):a.preventDefault()}),onFocus:x(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:x(e.onKeyDown,a=>{if(a.key==="Tab"&&a.shiftKey){d.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const b=Ee(a,d.orientation,d.dir);if(b!==void 0){a.preventDefault();let E=l().filter(g=>g.focusable).map(g=>g.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const g=E.indexOf(a.currentTarget);E=d.loop?ge(E,g+1):E.slice(g+1)}setTimeout(()=>K(E))}})})))}),ve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Re(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ee(e,r,t){const n=Re(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ve[n]}function K(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function ge(e,r){return e.map((t,n)=>e[(r+n)%e.length])}const xe=le,Ie=me,U="Radio",[_e,q]=A(U),[he,we]=_e(U),Ce=o.forwardRef((e,r)=>{const{__scopeRadio:t,name:n,checked:c=!1,required:s,disabled:i,value:p="on",onCheck:u,...d}=e,[v,l]=o.useState(null),$=S(r,b=>l(b)),f=o.useRef(!1),a=v?!!v.closest("form"):!0;return o.createElement(he,{scope:t,checked:c,disabled:i},o.createElement(h.button,R({type:"button",role:"radio","aria-checked":c,"data-state":V(c),"data-disabled":i?"":void 0,disabled:i,value:p},d,{ref:$,onClick:x(e.onClick,b=>{c||u==null||u(),a&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})),a&&o.createElement(ye,{control:v,bubbles:!f.current,name:n,value:p,checked:c,required:s,disabled:i,style:{transform:"translateX(-100%)"}}))}),Fe="RadioIndicator",ke=o.forwardRef((e,r)=>{const{__scopeRadio:t,forceMount:n,...c}=e,s=we(Fe,t);return o.createElement(oe,{present:n||s.checked},o.createElement(h.span,R({"data-state":V(s.checked),"data-disabled":s.disabled?"":void 0},c,{ref:r})))}),ye=e=>{const{control:r,checked:t,bubbles:n=!0,...c}=e,s=o.useRef(null),i=ce(t),p=ae(r);return o.useEffect(()=>{const u=s.current,d=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==t&&l){const $=new Event("click",{bubbles:n});l.call(u,t),u.dispatchEvent($)}},[i,t,n]),o.createElement("input",R({type:"radio","aria-hidden":!0,defaultChecked:t},c,{tabIndex:-1,ref:s,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function V(e){return e?"checked":"unchecked"}const Se=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j="RadioGroup",[Ae,Je]=A(j,[L,q]),B=L(),Y=q(),[Te,Pe]=Ae(j),Ge=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,name:n,defaultValue:c,value:s,required:i=!1,disabled:p=!1,orientation:u,dir:d,loop:v=!0,onValueChange:l,...$}=e,f=B(t),a=D(d),[b,_]=N({prop:s,defaultProp:c,onChange:l});return o.createElement(Te,{scope:t,name:n,required:i,disabled:p,value:b,onValueChange:_},o.createElement(xe,R({asChild:!0},f,{orientation:u,dir:a,loop:v}),o.createElement(h.div,R({role:"radiogroup","aria-required":i,"aria-orientation":u,"data-disabled":p?"":void 0,dir:a},$,{ref:r}))))}),Ne="RadioGroupItem",De=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,disabled:n,...c}=e,s=Pe(Ne,t),i=s.disabled||n,p=B(t),u=Y(t),d=o.useRef(null),v=S(r,d),l=s.value===c.value,$=o.useRef(!1);return o.useEffect(()=>{const f=b=>{Se.includes(b.key)&&($.current=!0)},a=()=>$.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",a),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",a)}},[]),o.createElement(Ie,R({asChild:!0},p,{focusable:!i,active:l}),o.createElement(Ce,R({disabled:i,required:s.required,checked:l},u,c,{name:s.name,ref:v,onCheck:()=>s.onValueChange(c.value),onKeyDown:x(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:x(c.onFocus,()=>{var f;$.current&&((f=d.current)===null||f===void 0||f.click())})})))}),Oe=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,...n}=e,c=Y(t);return o.createElement(ke,R({},c,n,{ref:r}))}),z=Ge,H=De,Me=Oe,Le=o.forwardRef(({className:e,...r},t)=>w.jsx(z,{className:O("grid gap-1",e),...r,ref:t}));Le.displayName=z.displayName;const Ke=o.forwardRef(({className:e,...r},t)=>w.jsx(H,{ref:t,className:O("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:w.jsx(Me,{className:"flex items-center justify-center",children:w.jsx(se,{className:"fill-current text-current h-2.5 w-2.5"})})}));Ke.displayName=H.displayName;export{Le as R,Ke as a};
