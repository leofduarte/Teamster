import{r as t,j as e,a as x}from"./app-DA6yD-bg.js";import{Layout as v}from"./Layout-CD6lmAmp.js";import{AddPartners as g}from"./AddPartners-BtFfKfko.js";import N from"./EditPartners-C1OYobiR.js";import{A as b,a as y,b as A}from"./avatar-CKv6ngF4.js";import{F as p}from"./index.es-C4Hz4JyV.js";import{h as P,g as E}from"./index-DTzn02tC.js";import"./logo-teamster-DKsO-BHU.js";import"./index-CNbTJdn3.js";import"./button-Czat_LeM.js";import"./utils-Baa09YAL.js";import"./input-BMchtnkz.js";import"./index-0yB0lKw6.js";import"./index-BSvPNBtZ.js";import"./index-DjDCE-CF.js";function D(){const[i,a]=t.useState([]),[f,n]=t.useState(!1),[h,l]=t.useState(!1),[c,d]=t.useState(null),o=async()=>{try{const s=(await x.get("/api/v1/getpartners")).data.data;Array.isArray(s)?a(s):(console.error("Expected an array for partners, but received:",s),a([]))}catch(r){console.error("Error fetching partners:",r),a([])}};t.useEffect(()=>{o()},[]);const u=async r=>{if(window.confirm("Tem certeza de que deseja apagar esta parceria?"))try{await x.delete(`/api/v1/deletepartners/${r}`),a(i.filter(s=>s.id!==r))}catch(s){console.error("Error deleting partner:",s)}},j=r=>{d(r),l(!0)},m=()=>{n(!1),l(!1),d(null)};return e.jsx(e.Fragment,{children:e.jsxs(v,{children:[e.jsx("h1",{className:"font-bold text-3xl",children:"Área de Administração"}),e.jsx("h2",{className:"font-serif text-3xl",children:"Parcerias"}),e.jsx("button",{className:"hover:text-purple-400",onClick:()=>n(!0),children:"Adicionar atividade"}),f&&e.jsx(g,{closeModal:m,refreshPartners:o}),h&&c&&e.jsx(N,{partner:c,closeModal:m,refreshPartners:o}),Array.isArray(i)&&i.map(r=>e.jsxs("div",{className:"drop-shadow bg-white rounded-md p-3 mb-4 flex flex-col content-fit align-middle",children:[e.jsxs("div",{className:"flex justify-end space-x-2 mb-4",children:[e.jsx("button",{className:"hover:text-purple-400",onClick:()=>u(r.id),children:e.jsx(p,{icon:P})}),e.jsx("button",{className:"hover:text-purple-400",onClick:()=>j(r),children:e.jsx(p,{icon:E})})]}),e.jsxs("div",{className:"flex",children:[e.jsxs(b,{className:"flex-shrink-0",children:[e.jsx(y,{src:`https://api.dicebear.com/9.x/initials/svg?seed=${r.name}`,className:"w-20"}),e.jsx(A,{children:"CN"})]}),e.jsxs("div",{className:"flex flex-col justify-between ml-4",children:[e.jsx("p",{className:"font-serif text-2xl font-medium",children:r.name}),e.jsxs("p",{children:["Localização: ",r.location]}),e.jsxs("p",{children:["Site:"," ",e.jsx("a",{href:r.url,children:r.url})]}),e.jsx("p",{children:r.description})]})]})]},r.id))]})})}export{D as default};
