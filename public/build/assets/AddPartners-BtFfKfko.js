import{r as f,j as e,a as g}from"./app-DA6yD-bg.js";import{B as j}from"./button-Czat_LeM.js";import{I as n}from"./input-BMchtnkz.js";import{c as v,e as y}from"./index-DTzn02tC.js";import{F as C}from"./index.es-C4Hz4JyV.js";import"./utils-Baa09YAL.js";import"./index-0yB0lKw6.js";function F({closeModal:i}){const o=r=>{const{name:x,value:h}=r.target;m(u=>({...u,[x]:h}))},[d,m]=f.useState({name:"",url:"",description:"",location:""}),{name:a,url:c,description:s,location:t}=d,l=r=>typeof r=="string"?r.trim()==="":Array.isArray(r)?r.length===0:!1,p=async()=>{if(console.log("A guardar parceiro..."),l(a)||l(s)||l(t))alert("Preencha todos os campos");else try{console.log("Dados a serem enviados:",{name:a,url:c,description:s,location:t});const r=await g.post("/api/v1/savepartners",{name:a,url:c,description:s,location:t});console.log("Resposta do servidor:",r),r.status===201||r.status===200?(alert("Parceiro guardado com sucesso!"),typeof i=="function"&&i()):alert("Erro ao guardar o parceiro")}catch(r){console.error("Erro ao enviar o formulário:",r),alert("Erro ao guardar o parceiro")}};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-10",children:e.jsxs("div",{className:"bg-[#F8F7FC] w-[63%] h-[90%] max-h-[90vh] rounded-lg shadow-lg overflow-y-auto",children:[e.jsx("button",{onClick:()=>i(),className:"float-end m-4",children:e.jsx(C,{icon:v,className:"h-5 w-5 p-2 text-gray-500 hover:text-black hover:bg-gray-200 rounded"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"font-serif text-3xl",children:"Adicionar Parceiro"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{children:"Nome"}),e.jsx(n,{name:"name",value:a,onChange:o,type:"text",placeholder:"Nome do Parceiro"}),e.jsx("p",{children:"URL"}),e.jsx(n,{name:"url",value:c,onChange:o,type:"text",placeholder:"URL do Parceiro"}),e.jsx("p",{children:"Descrição"}),e.jsx(n,{name:"description",value:s,onChange:o,type:"text",placeholder:"Descrição do Parceiro"}),e.jsx("p",{children:"Localização"})," ",e.jsx(n,{name:"location",value:t,onChange:o,type:"text",placeholder:"Localização do Parceiro"}),e.jsx(j,{onClick:p,icon:y,text:"Salvar"})]})]})]})})}export{F as AddPartners};
